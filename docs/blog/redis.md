# redis四种部署模式对比
## 单点模式
就是默认配置，单个 Master 节点

优点：除了简单还是简单，配置简单，操作简单

缺点：1. 单点故障或宕机会导致服务不可用，数据丢失 2. 单点存储和算力受单个服务器限制

在谈解决办法以及其他模式前，先了解一下 AKF 拆分原则
### AKF拆分原则
AKF拆分原则是用于系统架构设计的指导原则，旨在帮助架构师和开发人员将系统拆分为更小、更易管理的组件，从而提高系统的扩展性、可维护性和灵活性。AKF拆分原则基于 AKF扩展立方体模型（X、Y、Z轴扩展），通过应用这些原则，可以有效地解决系统在扩展过程中遇到的性能瓶颈、复杂性增加等问题。
#### AKF拆分原则的核心思想：
AKF拆分原则的核心在于按业务功能、数据、和请求的特点，将系统合理拆分为多个相对独立的模块或服务，每个模块或服务可以独立扩展、部署和维护。这些原则帮助开发人员识别出系统中的可拆分点，并指导如何进行有效的拆分。
#### 主要拆分原则：
##### 1. 按请求类型拆分（X轴拆分）
* 原则：将相同功能的多个实例进行水平复制，通过负载均衡将请求分发到不同的实例上。这种拆分主要是通过增加更多的实例来处理更高的并发请求量。
* 应用场景：适用于无状态的服务或相同逻辑处理的服务，通过增加实例数量来应对更多的请求。
* 示例：一个Web服务器集群可以通过增加Web服务器实例来处理更多的用户请求，每个实例都是相同的。
##### 2. 按功能模块拆分（Y轴拆分）
* 原则：根据系统的不同功能模块，将其拆分为多个独立的服务或组件。每个服务或组件专注于处理一种特定的功能。
* 应用场景：适用于单体应用向微服务架构的转化，通过将系统按功能划分，降低耦合度，提高系统灵活性和可维护性。
* 示例：一个电商系统可以拆分为用户管理服务、订单处理服务、商品管理服务、支付服务等。
##### 3. 按数据范围拆分（Z轴拆分）
* 原则：将数据按某种逻辑（如按用户、地区、时间等）划分为多个分片（shard），不同的分片可以分布在不同的数据库实例或服务器上。
* 应用场景：适用于系统中存在大量数据需要处理，单个数据库或服务无法承受的情况，通过数据分片来分散负载。
* 示例：一个社交平台可以根据用户ID对用户数据进行分片，不同的用户分片存储在不同的数据库实例中，从而提升系统的扩展性。
#### 结合拆分原则的综合应用：
* 横向拆分（X轴）：通过增加相同服务的实例数量来扩展系统的处理能力。
* 功能拆分（Y轴）：通过将系统按功能模块拆分，降低系统复杂度，提高扩展性。
* 数据拆分（Z轴）：通过数据分片处理更大数据量的请求，提升系统的整体性能。
#### AKF拆分原则的适用场景：
1. 性能瓶颈：当系统的某一部分成为性能瓶颈时，应用AKF拆分原则可以将该部分拆分出来，独立扩展。
2. 系统复杂度增加：当系统变得过于复杂时，通过拆分降低各个部分的耦合度，使得每个部分更容易理解、维护和扩展。
3. 业务增长：随着业务的增长，系统的负载需求增加，通过拆分将系统扩展到多个服务器或数据中心。
#### 例子：
假设你在管理一个电商平台，随着用户和交易量的增长，单一的系统结构难以支撑业务扩展。你可以使用AKF拆分原则：

1. Y轴拆分：将系统拆分为用户服务、商品服务、订单服务、支付服务等独立服务。
2. Z轴拆分：对用户数据进行分片，按地理位置或用户ID将数据分布在多个数据库实例中。
3. X轴拆分：增加商品服务的实例数量，通过负载均衡分发请求，确保商品服务能够处理更高的并发量。
### 总结
AKF拆分原则为系统的扩展提供了清晰的指导，通过合理的拆分，可以降低系统复杂度，提升扩展性和可靠性，满足不断增长的业务需求。这些原则在微服务架构、分布式系统设计等领域具有广泛的应用。

### 单机问题解决
AKF 说白了还是通过增加硬件机器来解决单机的容量和单点可用性问题，只不过根据 AKF 可以从三个方向进行扩展


## 主从模式

## 哨兵模式（Sentinel）
## 集群模式（Cluster）