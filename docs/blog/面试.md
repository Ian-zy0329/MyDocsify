
记得录音！！！手记开录音

## 自我介绍
面试官您好，我叫赵杨，我目前有三年的开发经验，熟练掌握java后端开发，有分布式系统的实际开发经验，离开上一家公司主要是想考研但由于家里经济出了问题，所以出来找工作，
在上个公司我主要参与两个项目的开发，一个是基于 Springboot 和 vue 的电商系统的开发主要参与商品模块和订单模块的开发，
另一个是基于 SpringCloud 银行金融服务平台的开发，参与报表模块和票据模块的开发
业余时间会刷算法题，目前力扣上刷了三百五十道，我平时喜欢通过博客整理分享所学的技术和做题的记录和思路也会整理在上面

## 项目介绍
我参与开发的电商系统项目旨在为用户提供一站式的线上购物和后台管理功能，主要参与商品模块、订单模块的开发
项目团队有五组一共五十人左右，前端八个，我所在组有十一个人
商品模块我负责前台商城的商品搜索、筛选、排序等功能，用到 elasticsearch等
订单模块我负责前台商城的订单生成、取消功能的实现，用到 redis、mysql、lua、
项目中遇到难点，redis + lua库存扣减，db一致性，

在这个电商项目中，我参与了前台商城核心功能的开发，项目基于 Spring Boot，采用了前后端分离的架构，前端使用 Vue，
后端主要负责业务逻辑和数据处理，涵盖了从商品展示、搜索、购物车到订单处理的全流程
“项目使用了 Spring Boot 作为主要框架，数据库使用 MySQL，并引入了 Redis 进行缓存，
Elasticsearch 负责商品搜索，RocketMQ 用于异步任务处理。通过 Docker 进行容器化部署，并使用 Jenkins 实现了持续集成和自动化部署

为了提升商品搜索的效率，我们使用 Elasticsearch 来实现全文检索和推荐。通过对商品进行索引优化，
支持了复杂的搜索条件和实时的推荐机制，确保用户能够快速找到想要的商品。
同时，我使用了 Elasticsearch 聚合查询 来展示商品的分类和属性筛选

在高并发场景下，库存扣减的准确性非常关键。我们使用 Redis 缓存商品库存，并结合 Lua 脚本 来保证库存扣减操作的原子性，防止超卖现象。
然后通过 消息队列（RocketMQ） 异步更新库存到 MySQL，确保系统能够承受大流量的同时保持库存数据一致

订单超时未支付的处理是电商系统中的一个重要环节。我通过 RocketMQ 的延时消息来实现订单超时自动取消功能，
当用户下单后，如果在规定时间内没有完成支付，订单会自动被取消，库存自动回滚到 Redis 和 MySQL

我们使用了 ELK（Elasticsearch、Logstash、Kibana） 来收集和分析系统日志。
日志根据业务类型进行分类处理，包括调试日志、错误日志和接口访问日志，这使得我们能够实时监控系统的运行状态，并快速发现和解决问题

遇到的挑战与解决：
高并发场景下的性能优化：
在促销活动期间，用户量激增，系统需要承受高并发的访问。为了提升性能，我重点对 Redis 缓存 进行了优化，
并通过 分布式锁 和 限流策略 来保护关键资源，确保系统稳定运行。

数据一致性问题：
在 Redis 和 MySQL 数据同步时，由于异步更新，存在短暂的一致性延迟。为了解决这个问题，
我通过使用消息队列的 事务消息 机制和 幂等性处理，保证了数据的一致性。

通过这个项目，我积累了处理高并发、缓存与数据库一致性、分布式系统设计等方面的经验
## 主要问的 八股、es、redis、mysql
### 关于 es
spu、sku 基于商品名称、商品副标题、商品关键字进行分词
### 关于 redis 以及 lua
限流算法：令牌桶、漏桶、计数器

redis 和 mysql 一致性？异步同步方案（消息队列）、定时批量同步方案、双写同步方案



### EasyExcel 导入失败怎么处理
异常的原因：1. 程序bug，做好测试 2. 导入数据格式内容不对，导致的解析错误
两种处理方式：
1. 停止读取，把已读取的数据存入数据库，
2. 继续读取，日志记录异常的信息，
3. 停止读取，返回异常信息，提示用户

## 知识点
1. java：String、StringBuffer、StringBuillder，反射，List、HashMap、ConcurrentHashMap、锁、线程池、JMM、synchronized、volatile、TreadLocal、CAS、
2. spring：常用注解（注册Bean类、注入Bean类、处理Http请求类、前后端传值、读取配置）、ioc、aop（动态代理）、事务、反射
3. mysql：索引（主键索引、二级索引、聚集索引、非聚集索引、最左前缀匹配原则、索引失效）、储存引擎、事务（ACID）、事务实现原理（锁）、事务隔离级别、隔离级别的实现原理（redoLog、undoLog）
4. redis：数据类型及数据结构、单线程模型、内存管理策略（过期删除策略、内存淘汰策略）、持久化机制（RDB、AOF）、事务、缓存穿透、缓存击穿、缓存雪崩、与db一致性、服务高可用（主从、哨兵、集群）、限流算法
5. mq：消息堆积、消息重复、
6. es：倒排索引、数据类型、分词器、动态mapping、查询（分页（from+size、scroll、sort+search_after））、db一致性（全量同步、增量同步（同步双写、异步双写、Canal））、集群（节点角色）、分片、性能优化
7. elk：原理、logstash配置、logback配置、jvm优化、
8. 分布式：CAP、分布式锁、幂等、

## 简历可能会问的问题
1. 商品模块查询流程
   
2. 订单模块下单流程
   1. 选择商品规格
   2. 加入购物车（以spu分组、查询商品促销类型（单品促销、打折优惠、满减优惠）、从相应的表中获取优惠信息并判断是否满足优惠条件、最后计算优惠金额）
   3. 选择购物车中商品进行结算
   4. 查看确认单
   5. 选择收货地址、优惠券、选择积分抵扣
   6. 提交订单（商品库存的锁定）
   7. 支付订单
   8. 查看订单

3. 用 redis 做什么、用 mq 做什么、用 es 做什么
   

1. 如何实现的库存回滚到 redis 和 mysql 通过订单状态，失败则发消息
2. 设计模式：工厂模式、模板模式、观察者模式、适配器模式


1.某停车场(Parklot)有停车位(ParkingSpace)若干：
有多个入口和多个出口，入口完成扫描计时，出口完成结账及车位释放。
停车位包含两类：货车位和小车位，货车按每小时10元计价，每天最高累计120元，小车位按每小时5元计价，每天最高累计60元。
请注意提示剩余车位信息。
为该停车场设计一个管理系统，还原该场景，功能包括：
（1）车辆进入处理；
（2）车辆离开处理；
（3）计算当日停车场缴费总金额、单个车辆离场缴费额。
(请考虑并发等相关的实际问题)


2.编程实现：线程A向队列Q中不停写入数据，线程B从队列Q中不停读取数据（只要Q中有数据）。


3. 假如一个学校有x名学生，对全校同学进行一次测验，总分750分，现在需要对全校同学的分数进行分段统计，每y分为1个分数段，
   要求：用一条SQL语句统计出每个分数段有多少人。(y>=1, y<=750)